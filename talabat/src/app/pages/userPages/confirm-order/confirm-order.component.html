<div class="card my-5">
  <div class="container">
    <h2>Order List</h2>
    <p-table
      [value]="orderData"
      [tableStyle]="{ 'min-width': '50rem' }"
      styleClass="center-table"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Number</th>
          <th>order Status</th>
          <th>sub Total</th>
          <th>order Date</th>
          <th>delivary Method</th>
          <th>Total Price</th>
          <th>Order Details</th>
          <th>Delete Order</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-order>
        <tr>
          <td>{{ order.id }}</td>
          <td>{{ order.orderStatus }}</td>
          <td>{{ order.subTotal }}</td>
          <td>{{ order.orderDate.slice(0, 10) }}</td>
          <td>{{ order.delivaryMethod }}</td>
          <td>{{ order.total }}</td>
          <td>
            <a
              [routerLink]="['/orderDetails', order.id]"
              class="p-button font-bold"
            >
              Details
            </a>
          </td>
          <!-- Delete Order with popup -->
          <td>
            <div class="card flex justify-content-center">
              <p-button (onClick)="showDialog()" label="Delete" />
              <p-dialog
                header="Edit Profile"
                [modal]="true"
                [(visible)]="visible"
                [style]="{ width: '25rem' }"
              >
                <span class="p-text-secondary block mb-5"
                  >Are You Sure You Want To Delete This Order.</span
                >
                <div class="flex justify-content-end gap-2">
                  <p-button
                    label="Cancel"
                    severity="secondary"
                    (onClick)="visible = false"
                  />
                  <p-button label="Delete" (onClick)="deleteOrder(order.id)" />
                </div>
              </p-dialog>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
